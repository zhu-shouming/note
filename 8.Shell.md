##### shell的分类

- windows系统
  - cmd.exe命令提示符
- linux系统
  - **sh**/**bash**/**zsh**/...

#### 一、常用命令

##### 1.head

- 默认获取文件前10行

##### 2.tail

- 默认获取文件后10行

  ```shell
  # 如何获取文件的内容的6-10行
  head -10 [file] | tail -5
  ```

##### 3.cut

- 取出文本指定的列

- 默认以空格或者tab键进行分割（不支持不规则的空格）

- 选项

  > - -d:指定分隔符
  > - -f:指定获取的列号

  ```shell
  cut -f2 [file]	# 获取文件第二列
  cut -f2- [file]	# 获取文件从第二列往后
  cut -f2，4 [file] # 获取文件从第二列、第四类
  cut -d: -f1,3 /etc/passwd	# 指定：为分隔符，获取第一列和第三列
  ```

##### 4.uniq

- 去除重复的内容

- 选项

  > - -d:仅打印有重复的元素
  > - -c:打印元素重复的个数

  ```shell
  sort -n [file] | uniq	# 需要先进行排序才能去重
  ```

##### 5.sort

- 对文本的内容进行排序

- 默认以字符的ASCII码数值从小到大排序

- 选项

  > - -n:以数值大小排序
  > - -r:倒序
  > - -t:指定分隔符，默认为空格
  > - -k num;指定某个字段来排序

##### 6.wc（word count）

- 计算文本数量

- 选项

  > wc -l 打印行数
  >
  > wc -w 打印单词数
  >
  > wc -c 打印字节数
  >
  > wc -L 打印最长的字节数

  ```shell
  wc -l /etc/passwd	# 查看当前linux有多少用户
  ```

##### 7.echo

- 打印

- 选项

  > -e:打印的内容有制表符会转义
  >
  > -n:表示打印不换行
  >
  > \e:转义字符，\e[032m表示字体为绿色，\e[031表示红色，\e[0m表示恢复颜色

  ```shell
  echo -e "\e[032mYES\e[0m"
  ```

#### 二、变量

##### 1.分类

- 本地变量
- 全局变量
- 内置变量

##### 2.定义本地变量

- 方式一

  - 变量名=变量值

  > 变量值必须是一个整体，中间没有特殊字符，等号两侧不能有空格

- 方式二

  - 变量名='变量值'

  > 单引号包含什么内容，就输出什么内容

- 方式三

  - 变量名="变量值"

  > 双引号包含变量($变量)，会直接输出变量的值

- 方式四

  - 变量名=$(linux命令)
  - 变量名=`linux命令`
  - 常用方法

##### 3.全局变量

- 可以通过命令查看环境变量

  - env

- 定义全局变量

  换了个子shell，该种方式定义的全局变量不可用

  - 方法一

  > 变量=值
  >
  > export 变量

  - 方法二（常用）

  > export 变量=值

- 可以在文件中定义变量全局使用

  - ~/.bashrc
  - ~/.bash_profile
  - /etc/profile

##### 4.查看变量

- 方式一
  - echo $变量名
- 方式二
  - echo “$变量名”

```shell
# 1.使用echo打印时，加不加双号都一样
# 2.使用shell中或test表达式中，如果变量中包含空格，必须用双引号括起来
var='one var'
[ $var == 'one var' ] && echo 1 || echo 2
-bash: [: one: unary operator expected
>2
[ "$var" == 'one varecho' ] && echo 1 || echo 2
>1
[ "${var}" == 'one varecho' ] && echo 1 || echo 2	# 推荐写法
>1
```

##### 5.内置变量

| 符号  | 含义                                                         |
| ----- | ------------------------------------------------------------ |
| $0    | 获取当前执行的shell脚本名称，包括脚本路径                    |
| $n    | 获取当前执行的shell脚本的第n个参数值，n=1...9。如果n大于9要用括号括起来${10} |
| $#    | 获取当前shell命令行中参数的总个数                            |
| $?    | 获取执行上一个指令的返回值（0为成功，非0位失败）             |
| $*/$@ | 获取shell脚本的参数                                          |

#### 三、数值运算

##### 1.支持的运算

​	`+ - * / %`

​	`< <= > >=`

​	 `= !=`

##### 2.方式一

- $((算术表达式))
- 变量可以不加$

##### 3.方式二

- expr 算术表达式

```python
# 1.算术表达式返回值，1表示True，0表示False，与$?刚好相反，在expr中出现<或>时，需要对其转移。如：expr 10 \< 2
# 2.算术运算符中的/都是整除，可以在bc下进行交互式计算，通过scale=num指定精确小数num位
# 3.可以使用管道符把计算交给bc，如：echo "scale=3;10/3" | bc
```

#### 三、条件表达式

##### 1.返回值

- 条件成立，返回0
- 条件不成立，返回1

##### 2.文件表达式

- -f 判断输入内容是否是一个文件
- -d 判断输入内容是否是一个目录
- -x 判断输入内容是否可执行
- -e 判断文件是否存在

```shell
test -f /etc/passwd; echo $?	# 查看/etc/passwd是否是文件
[ -f /etc/passwd ]; echo $?		# 和上面等同，使用[]首尾必须要有空格
```

##### 3.数值操作符

- n1 -eq n2	相等
- n1 -gt n2	大于
- n1 -lt n2	小于
- n1 -ne n2	不等于



