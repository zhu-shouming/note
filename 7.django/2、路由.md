### 路由

#### 1.创建第一个路由指向视图

```python
# 应用程序/views.py
from django.http import HttpResponse

def index(request):
    return HttpResponse('hello django')

# 项目配置目录/urls.py
from django.urls import path
from . import views
urlpatterns = [
    path('project/', views.index),
]
```

#### 2.定义路由

- **urlpatterns**列表中添加指向视图的路由
  1. 匹配从上到下开始匹配，一旦匹配成功不会继续往下匹配
  2. 如果匹配成功会自动调用路由指向的函数
  3. 如果所有的路由都匹配不成功，会抛出404异常
- **path**函数定义路由
  2. 第一个参数为url路径，默认最后的“/”需要添加
  3. 第二个参数为需要调用的函数，直接使用函数名即可

- __repath()__函数定义路由
  1. 第一个参数为正则表达式，使用正则表达式匹配路径。固定格式：__r'^正则表达式/$'__
  2. 第二个参数为调用的函数

#### 3.路由传递参数

- path方法：采用双尖括号`<变量类型:变量名>`或`<变量名>`传递，例如`<int:id>`, `<slug:slug>`或`<username>`，常见类型有int、str、slug、uuid等
- re_path方法：采用命名组**(?P<变量名>表达式)**的方式传递参数

> 定义路由时，可以接收路径参数
>
> 格式：<类型转化器：参数名称>，常见的类型有int、str、slug、uuid等

```python
# 项目配置目录/urls.py
from django.urls import path
	urlpatterns = [
        path('project/<int:num>/', index)
        re_path(r'^project/(?P<pk>\d{2})/$', index1)]
    
# 应用程序/views.py
from django.http import HttpResponse
def index(request, num):
    return HttpResponse(f'大家好，路由的参数{pk}')
def index1(request, pk):
    return HttpResponse(f'大家好，路由的参数{pk}')
```

### 子路由

> 应用程序下创建路由，方便路由的管理

#### 创建子路由

1. 应用程序下创建urls.py文件

2. 全局路由中使用**include()**函数指向子路由

```python
# 全局urls.py
from django.urls import path, include
urlpatterns = [
    path('pools/', include('pools.urls'))
]
# 应用程序/urls.py
urlpatterns = [
    path('', index)
]
```

