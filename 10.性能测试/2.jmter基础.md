#### jmeter基础

##### jmeter环境和配置

- jmeter依赖`jdk1.8`
- 修改语言为中文：修改bin/jmeter.properties文件language=zh_CN，保存并重启jmeter

##### jmeter文件目录

- /bin/：jmeter配置文件、启动文件及默认保存脚本路径
  - jmeter.bat：windows启动文件
  - jmeter.sh：linux启动文件，启动命令sh jmeter
  - ApacheJMeter.tar：通用启动命令java -jar ApacheJMeter.tar
  - templates/：用于生成html报告
- /docs/：api文件，用于jmeter二次开发
- /printable_docs/：jmeter离线帮助文档
- /lib/：源码包文件
  - /ext/：jmeter第三方插件

#### jmeter功能

- 测试计划：脚本的根
  - 线程（用户）
    - 线程组：进行性能场景设计
      - 取样器：根据不同的协议，选择不同的取样器。主要用于编写脚本，发起请求。
      - 逻辑控制器：控制脚本执行逻辑，先于取样器执行。作用范围：子集取样器
      - 前置处理器：
      - 后置处理器：
    - setUp线程组：前置场景
    - tearDown线程组：后置场景
  - 配置元件：`优先级最高`,可置于测试计划下、线程组下、取样器下。相同key值取最近配置元件的value值，不同key值叠加。
  - 监听器：根据不同的维度展示执行的结果
    - 查看结果树：显示http请求的响应

##### 脚本编写注意事项：

1. 当请求体为json格式时，配置元件-请求头中必须添加：`Content-Type=application/json;charset=utf-8`;当请求体为表单格式，默认为`Content-Type=application/x-www-form-urlencoded`

2. 取样器-服务器名或IP不能携带/
3. 当get请求携带参数需带加密的数据，需要在参数重勾选`编码`

4. 如果请求体有中文，请求处的内容编码需添加utf-8

备：请求头中添加charset=utf-8用作控制json格式请求体的内容编码；请求参数编码，表单参数、有非字母/数字都需要勾选，且建议默认勾选；内容编码控制请求体的编码，建议默认填写utf-8。